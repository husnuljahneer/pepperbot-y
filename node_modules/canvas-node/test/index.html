<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible"
    content="ie=edge">
  <title>CanvasNode</title>
</head>

<body>

  <canvas id="canvas"
    width="800"
    height="600"></canvas>
  <script src="../index.js"></script>
  <script>
    const canvas = document.getElementById('canvas')
    const path = new Path2D()
    CanvasNode.init({ canvas })
    const vertexes = [0, 0, 50, 50]
    path.rect(...vertexes)
    const b = CanvasNode.drawBox({
      rawVertexes: vertexes,
      name: 'box',
      text: 'box1',
      path,
      style: 'red',
      strokeStyle: '#000',
      pos: { x: 300, y: 100 }
    })
    const e = CanvasNode.drawBox({
      rawVertexes: vertexes,
      name: 'box',
      text: 'box2',
      path,
      style: 'red',
      strokeStyle: '#000',
      color: '#fff',
      pos: { x: 4, y: 342 }
    })
    const c = CanvasNode.drawBox({
      rawVertexes: vertexes,
      name: 'test',
      text: 'test',
      path,
      style: 'red',
      strokeStyle: '#000',
      pos: { x: 50, y: 60 }
    })
    const c2 = CanvasNode.drawBox({
      rawVertexes: vertexes,
      name: 'test',
      text: 'box3',
      path,
      style: 'green',
      strokeStyle: 'green',
      pos: { x: 200, y: 100 }
    })
    const backColor = c2.color
    const hoverColor = '#ccc'
    c2.hover((e, node) => {
      node.color = hoverColor
      node.text = 'hover'
    }, (e, node) => {
      node.color = backColor
      node.text = 'out'
    })
    c.click(() => {
      console.log('clicked')
    })
    c.click(() => {
      console.log('clicked from second callback')
      setTimeout(() => {
        c.destory()
      }, 1000)
    })
    c.hover((e, node) => {
      node.color = '#aaa'
      // node.draw()
    })
    setTimeout(() => { c.moveTo({ x: 100, y: 100 }) }, 1000)
  </script>
</body>

</html>