import { ArrowNode } from './arrow';
export interface Pos {
    x: number;
    y: number;
}
export declare type x = number;
export declare type y = number;
export declare type width = number;
export declare type height = number;
export declare type RawVertexes = [x, y, width, height];
export declare type Callback = (node: CanvasNode) => any;
export declare type NodeEventCallback = (e: Event, node: CanvasNode) => any;
export declare type UpdateLineCallback = (node: CanvasNode, line: ArrowNode, isFrom: boolean) => Pos;
export declare type WatchCallback = <T extends keyof CanvasNode>(newVal: CanvasNode[T], oldVal: CanvasNode[T]) => any;
export interface CanvasNodeOption {
    name: string;
    path?: Path2D;
    pos: Pos;
    ctx?: CanvasRenderingContext2D;
    data?: any;
    size?: Pos;
    style?: string;
    strokeStyle?: string;
    color?: string;
    font?: string;
    text?: string;
    lineWidth?: number;
    drawCbs?: Callback[];
    beforeDrawCbs?: Callback[];
    rawVertexes?: RawVertexes;
    updateLineCb?: UpdateLineCallback;
}
export declare class CanvasNode implements CanvasNodeOption {
    name: string;
    path?: Path2D;
    pos: Pos;
    ctx: CanvasRenderingContext2D;
    data: any;
    font?: string;
    size: Pos;
    style: string;
    strokeStyle: string;
    lineWidth: number;
    color: string;
    text: string;
    display: boolean;
    exist: boolean;
    drawCbs: Callback[];
    beforeDrawCbs: Callback[];
    rawVertexes: RawVertexes;
    lines: ArrowNode[];
    updateLineCb: UpdateLineCallback;
    private autoUpdateFields;
    private hoverInCb;
    private hoverOutCb;
    private clickCb;
    private watchList;
    constructor(option: CanvasNodeOption);
    proxy(): void;
    readonly vertexes: number[];
    moveTo(pos: Pos): void;
    $moveTo(pos: Pos): void;
    $draw(): void;
    draw(cleanFirst?: boolean): void;
    updatePos(pos: Pos): void;
    drawBorder(): void;
    fill(): void;
    fillText(text?: string): void;
    updateText(text: string): void;
    invokeDrawCbAbs(type: 'drawCbs' | 'beforeDrawCbs'): void;
    addLine(line: ArrowNode): void;
    updateLinePos(): void;
    remove(node?: CanvasNode): void;
    $remove(): void;
    forEach(fn: (node: CanvasNode, i: number, list: CanvasNode[]) => any): void;
    addDrawCb(cb: Callback): void;
    addBeforeDrawCb(cb: Callback): void;
    hover(inCb: NodeEventCallback, outCb?: NodeEventCallback): void;
    click(clickCb: NodeEventCallback): void;
    hide(): void;
    show(): void;
    watch<T extends keyof this>(key: T, cb: WatchCallback): void;
    destroy(): void;
}
